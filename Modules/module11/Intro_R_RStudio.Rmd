---
title: "Introduction to R and R Studio"
output: pdf_document
editor_options: 
  markdown: 
    wrap: 72
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


## Introduction to R Studio

[RStudio](https://www.rstudio.com/) is an Integrated Development
Environment (IDE) for working with R.

RStudio is divided into 4 "Panes": the **Source** for your scripts and
documents (top-left, in the default layout), the R **Console/Terminal/R
Markdown** (bottom-left), your **Environment/History/Connections**
(top-right), and your **Files/Plots/Packages/Help/Viewer**
(bottom-right). The placement of these panes and their content can be
customized (see menu, Tools -\> Global Options -\> Pane Layout). One of
the advantages of using RStudio is that with many keyboard shortcuts,
autocompletion, and highlighting, RStudio will make typing R code easier
and less error-prone.

## Introduction to R

### Important thing to know about R

R is case-sensitive!

### Getting help

You can get help and learn more about R through mailing lists and
websites such as [Stack Overflow](https://stackoverflow.com/), or on the
[RStudio community](https://community.rstudio.com/). There are numerous,
currently about 750, blogs about R and these are all compiled in one
place at [R bloggers](https://www.r-bloggers.com/). Many people make
code available on-line. You can modifying existing code to suit your
purpose but if you do so, be sure to cite or acknowledge where you found
the code. You may not think that I would know that you copied code from
online, but I do and it is not ok to try to pass someone else's code off
as your own.

One of the most fastest ways to get help, is to use the RStudio help
interface. This panel by default can be found at the lower right hand
panel of RStudio. As seen in the screenshot, by typing the word "Mean",
RStudio tries to also give a number of suggestions that you might be
interested in. The description is then shown in the display window.

If you need help with a specific function, let's say `barplot()`, you
can type:

```{r, eval=FALSE, purl=FALSE}
?barplot
```

If you can't find what you are looking for, you can use the
[rdocumentation.org](http://www.rdocumentation.org) website that
searches through the help files across all packages available and
[rseek.org](http://rseek.org/) is a search engine that is specific to R.

Finally, a generic Google or internet search "R \<task\>" will often
either send you to the appropriate package documentation or a helpful
forum where someone else has already asked your question.

### R packages

There are literally thousands of packages for R. In order to use a
package for the first time, you need to download and install it, either
from [CRAN](https://cran.r-project.org/), Bioconductor, or GitHub. One
way to learn about the various packages that are available is to look at
the [CRAN Task Views](https://cran.r-project.org/web/views/).

The following will install packages that are available on CRAN.

```{r eval=FALSE}
install.packages("mosaicData")
```

The above step only needs to be done the first time. The step below must
be done each time you want to use the package in a new R file.

```{r}
library(mosaicData)
```

This is package that includes some data sets. If you have loaded a
package containing data files, then you can access that data by it's
name. For example, there is a data file called `HELPfull` in the
`mosaicData` package.

More likely, data will be on your computer and you will want to read it
into R. .csv files can be read into R using `read.csv()` and ascii
(i.e., .txt files) can be read into R using `read.table()`

```{r, eval=FALSE}
csv <- read.csv("help.csv")
```

### Creating objects in R

To create an object, we need to give it a name followed by the
assignment operator, `<-`, and the value we want to give it:

```{r, purl=FALSE}
weight_kg <- 55
```

`<-` assigns values on the right to objects on the left. So, after
executing `weight_kg <- 55`, the value of `weight_kg` is `55`. The arrow
can be read as 3 **goes into** `x`. For historical reasons, you can also
use `=` for assignments, but not in every context. Because of the
[slight](http://blog.revolutionanalytics.com/2008/12/use-equals-or-arrow-for-assignment.html)
[differences](http://r.789695.n4.nabble.com/Is-there-any-difference-between-and-tp878594p878598.html)
in syntax, it is good practice to always use `<-` for assignments.

Object names cannot start with a number (`2x` is not valid, but `x2`
is). There are some names that cannot be used because they are the names
of fundamental functions in R (e.g., `if`, `else`, `for`, see
[here](https://stat.ethz.ch/R-manual/R-devel/library/base/html/Reserved.html)
for a complete list).

### Comments

The comment character in R is `#`, anything to the right of a `#` in a
script will be ignored by R. It is useful to leave notes, and
explanations in your scripts so that other people, including your future
self, can understand your code.

## Introduction to R Markdown

R Markdown allows you to write a report with R code and the output from
running that code. To start a new R Markdown document, open it in R
Studio and save as an .Rmd file. To "knit" the document and run all the
R code embedded in it, click the button that says **Knit**. The R code
chunks are then extracted, executed, and replaced by their output, be it
text, tables, or figures.

You can specify things like title, author and date in the **header** of
your R Markdown file. This goes at the very beginning of the file,
preceded and followed by lines containing three dashes. Thus the
beginning of this file looks like so:

```         
---
title: "Assignment 3"
author: "John Doe"
date: "04/11/2024"
---
```

You can also use the header to tell R Markdown whether you want it to
knit to HTML (the default), pdf, or Word. Note that you need to have
[LaTeX](https://www.latex-project.org/) installed to knit to a pdf.

### Code Chunks

A code **chunk** is simply an off-set piece of code by itself. It is
preceded by ```` ```{r} ```` on a line by itself, and ended by a line
which just says ```` ``` ````. The code itself goes in between. The
first code chunk is code that sets up some options. You do not need to
change it from the template.

````{=html}
<pre><code>```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```</code></pre>
````

After the setup chunk, you insert chunks to include code in the
appropriate places within your reports. Here, for instance, is some code
which loads a data set that is included with R and generates some
summary statistics.

```{r cars}
summary(cars)
```

To prevent printing of the R code, you can add `echo = FALSE` to the
code chunk.

````{=html}
<pre><code>```{r cars, echo=FALSE}
summary(cars)
```</code></pre>
````

To not include the output of a code chunk and the code itself, you can
add `include = FALSE` as in the setup code block. To not include warning
messages, you can add `warning=FALSE` as in the block of code that loads
packages.

If you are emailing either me or Shannon for help, **always include the
output of `sessionInfo()`** as it provides critical information about
your platform, the versions of R and the packages that you are using,
and other information that can be very helpful to understand your
problem. Insert it as a code chunk at the end of your R Markdown file.

```{r, results='show', purl=FALSE}
sessionInfo()
```

### Section Headers in R Markdown

The character `#` at the beginning of a line means that the rest of the
line is interpreted as a section header. The number of `#`s at the
beginning of the line indicates whether it is treated as a section,
sub-section, etc. I draw your attention to this because within R code
chunks in R Markdown, `#` is the comment character as described above.

### Environments

Finally, and this is important, R Studio keeps *two* environments or
workspaces which it uses to evaluate R code. One is the "usual" global
environment of the console, which builds cumulatively from the start of
your session. Every time you knit, however, it re-runs your code in
clean workspace, as though you had just started R from scratch. This
means knitted code evaluates *only* code in the .Rmd file. This can lead
to a situation in which your code worked in the console but it won't
knit because you left something important out of your code in the .Rmd
file.

Another important tip is to keep everything in the same folder (e.g.,
keep data files in the same folder as the .Rmd file). If you are having
problems knitting, try completely closing RStudio and then restart it
and try to knit again.

##### \*\*Adapted from Donna Coffman (Temple University, Multivariable Statistics, 2018)

##### 
